<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
<title>SOGOHOUSE Ultra System</title>

<style>
/* =========================================================
   GLOBAL BASE STYLE
========================================================= */
html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  background:#000;
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
  overflow:hidden;
}

/* =========================================================
   HOME
========================================================= */
#home{
  position:absolute;
  inset:0;
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:18px;
  padding:40px 20px;
  background:
    radial-gradient(circle at 20% 10%, #2e86de, transparent 40%),
    radial-gradient(circle at 80% 30%, #6c5ce7, transparent 45%),
    linear-gradient(180deg,#0a3d62,#1e5799);
}
.icon{
  text-align:center;
  color:#fff;
  font-size:12px;
}
.appIcon{
  width:60px;
  height:60px;
  border-radius:14px;
  margin:auto;
  background:linear-gradient(135deg,#ff3b30,#ff9f0a);
}

/* =========================================================
   APP COMMON
========================================================= */
.app{
  position:absolute;
  inset:0;
  display:none;
  background:#000;
  color:#fff;
  padding:20px;
}
.app h1{
  margin:0 0 12px;
  font-size:20px;
}

/* =========================================================
   ALERT OVERLAY
========================================================= */
#overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.36);
  backdrop-filter:blur(14px);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}
.alert{
  width:270px;
  border-radius:14px;
  background:#f2f2f7;
  text-align:center;
  overflow:hidden;
}
.alert h3{
  margin:16px 16px 6px;
  font-size:17px;
  font-weight:600;
  color:#000;
}
.alert p{
  margin:0 16px 14px;
  font-size:13.5px;
  color:#3a3a3c;
}
.alert .buttons{
  display:flex;
  border-top:1px solid #c6c6c8;
}
.alert button{
  flex:1;
  border:0;
  background:none;
  padding:12px 0;
  font-size:17px;
  color:#007aff;
  font-weight:600;
}
.alert button+button{
  border-left:1px solid #c6c6c8;
}

/* =========================================================
   SETTINGS
========================================================= */
.settingRow{
  display:flex;
  justify-content:space-between;
  padding:12px 0;
  border-bottom:1px solid #333;
}
.switch{
  width:44px;
  height:26px;
  border-radius:13px;
  background:#444;
  position:relative;
}
.switch.on{ background:#34c759; }
.switch::after{
  content:"";
  position:absolute;
  width:22px;
  height:22px;
  background:#fff;
  border-radius:50%;
  top:2px;
  left:2px;
}
.switch.on::after{ left:20px; }

/* =========================================================
   GAME CANVAS
========================================================= */
canvas{
  background:#111;
  border-radius:12px;
}

/* ========================================================= */
</style>
</head>

<body>

<!-- ===================== HOME ===================== -->
<div id="home">
  <div class="icon" onclick="openApp('alertApp')">
    <div class="appIcon"></div>アラート
  </div>
  <div class="icon" onclick="openApp('slitherApp')">
    <div class="appIcon"></div>スリザリオ
  </div>
  <div class="icon" onclick="openApp('potatoApp')">
    <div class="appIcon"></div>ポテト
  </div>
  <div class="icon" onclick="openApp('settingsApp')">
    <div class="appIcon"></div>設定
  </div>
</div>

<!-- ===================== ALERT APP ===================== -->
<div class="app" id="alertApp">
  <h1>アラート</h1>
  <input id="alertTitle" placeholder="タイトル（必須）"><br><br>
  <textarea id="alertMsg" placeholder="メッセージ"></textarea><br><br>
  <button onclick="showSystemAlert()">表示</button>
</div>

<!-- ===================== SLITHER ===================== -->
<div class="app" id="slitherApp">
  <h1>スリザリオ</h1>
  <canvas id="slitherCanvas" width="300" height="300"></canvas>
</div>

<!-- ===================== POTATO ===================== -->
<div class="app" id="potatoApp">
  <h1>ポテト職人</h1>
  <button onclick="fry()">揚げる</button>
  <button onclick="season()">コンソメ</button>
  <div id="potatoScore">0</div>
</div>

<!-- ===================== SETTINGS ===================== -->
<div class="app" id="settingsApp">
  <h1>設定</h1>
  <div class="settingRow">
    スリザリオ 黒画面
    <div class="switch" id="swSlither" onclick="toggle('slither')"></div>
  </div>
  <div class="settingRow">
    ポテト 黒画面
    <div class="switch" id="swPotato" onclick="toggle('potato')"></div>
  </div>
</div>

<!-- ===================== ALERT ===================== -->
<div id="overlay">
  <div class="alert">
    <h3 id="aTitle"></h3>
    <p id="aMsg"></p>
    <div class="buttons">
      <button onclick="closeAlert()">キャンセル</button>
      <button onclick="closeAlert()">許可</button>
    </div>
  </div>
</div>

<script>
/* =========================================================
   STATE MANAGEMENT
========================================================= */
let currentApp=null;
const settings={
  slitherBlack:false,
  potatoBlack:false
};

function openApp(id){
  document.querySelectorAll('.app').forEach(a=>a.style.display="none");
  home.style.display="none";
  document.getElementById(id).style.display="block";
  currentApp=id;
}

/* =========================================================
   ALERT ENGINE
========================================================= */
function showSystemAlert(){
  if(!alertTitle.value.trim()) return;
  home.style.display="grid";
  document.querySelectorAll('.app').forEach(a=>a.style.display="none");
  aTitle.textContent=alertTitle.value;
  aMsg.textContent=alertMsg.value;
  setTimeout(()=>overlay.style.display="flex",80);
}
function closeAlert(){
  overlay.style.display="none";
}

/* =========================================================
   SLITHER CORE
========================================================= */
const sCtx=slitherCanvas.getContext("2d");
let sx=150,sy=150,svx=1.2,svy=1.1;
function slitherLoop(){
  if(settings.slitherBlack){
    sCtx.fillStyle="#000";
    sCtx.fillRect(0,0,300,300);
  }else{
    sCtx.fillStyle="#111";
    sCtx.fillRect(0,0,300,300);
    sCtx.fillStyle="#0f0";
    sCtx.beginPath();
    sCtx.arc(sx,sy,6,0,Math.PI*2);
    sCtx.fill();
  }
  sx+=svx; sy+=svy;
  requestAnimationFrame(slitherLoop);
}
slitherLoop();

/* =========================================================
   POTATO CORE
========================================================= */
let score=0;
function fry(){
  score+=10;
  updatePotato();
}
function season(){
  score+=200;
  updatePotato();
  showSystemAlert();
}
function updatePotato(){
  potatoScore.textContent=score;
  potatoApp.style.background=settings.potatoBlack?"#000":"#111";
}

/* =========================================================
   SETTINGS
========================================================= */
function toggle(type){
  if(type==="slither"){
    settings.slitherBlack=!settings.slitherBlack;
    swSlither.classList.toggle("on");
  }
  if(type==="potato"){
    settings.potatoBlack=!settings.potatoBlack;
    swPotato.classList.toggle("on");
  }
}
</script>

</body>
</html>
