<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
<title>Alert App Builder</title>

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
  height:100vh; overflow:hidden;
}

/* ===== ホーム ===== */
.home{
  position:absolute; inset:0;
  padding:40px 20px;
  display:grid; grid-template-columns:repeat(4,1fr);
  gap:18px;
  background:
    radial-gradient(circle at 20% 10%, #2e86de, transparent 40%),
    radial-gradient(circle at 80% 30%, #6c5ce7, transparent 45%),
    linear-gradient(180deg,#0a3d62,#1e5799);
}
.icon{ text-align:center; color:#fff; font-size:12px; }
.appIcon{
  width:60px;height:60px;margin:auto;border-radius:14px;
  background:linear-gradient(135deg,#ff3b30,#ff9f0a);
}

/* ===== アプリ画面 ===== */
.appView{
  position:absolute; inset:0;
  background:#000; color:#fff;
  display:none; padding:20px;
}
.appView h1{ font-size:20px; margin:0 0 14px; }
label{ font-size:13px; color:#b0b0b0; display:block; margin-top:12px; }
input, textarea{
  width:100%; box-sizing:border-box;
  background:#1c1c1e; color:#fff;
  border:0; border-radius:10px;
  padding:10px; font-size:15px;
}
textarea{ resize:none; height:70px; }
.btn{
  margin-top:16px; width:100%;
  padding:12px; border-radius:12px;
  border:0; font-size:17px;
  background:#0a84ff; color:#fff;
}

/* ===== アラート ===== */
.overlay{
  position:fixed; inset:0;
  background:rgba(0,0,0,.36);
  backdrop-filter: blur(14px) saturate(1.25);
  -webkit-backdrop-filter: blur(14px) saturate(1.25);
  display:none; align-items:center; justify-content:center; z-index:10;
}
.alert{
  width:270px; border-radius:14px; overflow:hidden; text-align:center;
  background:linear-gradient(180deg,rgba(242,242,247,.92),rgba(242,242,247,.84));
}
.alert h3{ margin:16px 16px 6px; font-size:17px; font-weight:600; color:#000; }
.alert p{ margin:0 16px 14px; font-size:13.5px; color:#3a3a3c; }
.buttons{ display:flex; border-top:.5px solid rgba(60,60,67,.29); }
.buttons button{
  flex:1; padding:12px 0; font-size:17px; border:0;
  background:transparent; color:#007aff; font-weight:600;
}
.buttons button+button{ border-left:.5px solid rgba(60,60,67,.29); }
</style>
</head>

<body>

<!-- ホーム -->
<div class="home" id="home">
  <div class="icon" onclick="openApp()">
    <div class="appIcon"></div>
    アラート
  </div>
</div>

<!-- アプリ -->
<div class="appView" id="app">
  <h1>アラート</h1>

  <label>タイトル（必須）</label>
  <input id="titleInput" placeholder="例：“Safari”がアクセスを求めています">

  <label>メッセージ（任意）</label>
  <textarea id="msgInput" placeholder="例：この操作を許可しますか？"></textarea>

  <button class="btn" onclick="showAlert()">表示</button>
</div>

<!-- システムアラート -->
<div class="overlay" id="ov">
  <div class="alert">
    <h3 id="aTitle"></h3>
    <p id="aMsg"></p>
    <div class="buttons">
      <button onclick="closeAlert()">キャンセル</button>
      <button onclick="closeAlert()">許可</button>
    </div>
  </div>
</div>

<script>
function openApp(){
  home.style.display="none";
  app.style.display="block";
}

function showAlert(){
  const t = titleInput.value.trim();
  if(!t) return; // タイトル必須

  // ★ ここが重要：ホームに戻す
  app.style.display="none";
  home.style.display="grid";

  aTitle.textContent = t;
  aMsg.textContent = msgInput.value || "";

  // 少し間を置くとiOS感UP
  setTimeout(()=>{ ov.style.display="flex"; }, 80);
}

function closeAlert(){
  ov.style.display="none"; // 押した後もホームのまま
}
</script>

</body>
</html>
